<div class="content">
    <div class="menu">
        <app-left-sidebar [user$]="user$" [chats$]="chats$"></app-left-sidebar>
    </div>


    <div class="flat">
        <div class="photos">
            <img *ngFor="let photo of flatDownloadedPhotos$ | async"
                 [src]="photo"
                 alt="Photo">
        </div>
        <div class="buttons">
            <button (click)="intrested()"><h2>I'm interested</h2></button>
            <button><h2>Mark as full</h2></button>
        </div>
        <div class="flat-metadata">
            <div class="header-one">
                <h1>{{flatName$| async}}</h1>
                <h1>{{(flatCost$ | async) | currency: '$'}}</h1>
            </div>
            <h2 style="margin-bottom: 1rem">Adress: {{flatArea$ | async}}</h2>
            <h3>{{flatDescription$ | async}}</h3>
            <h3 *ngIf="flatExternalUrl$ | async" style="color: violet">
                Description on the
                <a href="{{flatExternalUrl$ | async}}">3d-pary site</a>
            </h3>
        </div>
        <div class="comments">
            <div class="chat">
                <div class="chat-overflow">
                    <div
                        class="chat-message"
                        *ngFor="let comment of flatComments$ | async"
                        [ngClass]="comment?.user?.id === '1' ? 'chat-message-left' : 'chat-message-right'">
                        <img [src]="comment?.user?.avatar" alt="">
                        <div>
                            <h4>{{comment.user.name}}</h4>
                            <h2 style="font-weight: normal">{{comment.content}}</h2>
                        </div>
                    </div>
                </div>
            </div>
            <input type="text" [(ngModel)]="content">
            <button (click)="onSendClick()">Send</button>
        </div>
    </div>


    <div class="users-block">
        <h1 style="text-align: center;">Interested</h1>
        <div class="users">
            <div
                class="user"
                *ngFor="let user of flatInterestedUsers$ | async"
                (click)="onUserClick(user.id)">
                <img [src]="user.avatar" alt="Avatar">
                <h2>{{user?.name}}</h2>
            </div>
        </div>
        <h1 style="text-align: center">Owner</h1>
        <div class="owner">
            <img
                [src]="(flatOwner$ | async)?.avatar"
                alt="Avatar">
            <h2>{{(flatOwner$ | async)?.name}}</h2>
        </div>
    </div>
</div>