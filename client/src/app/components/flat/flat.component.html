<div class="content">
    <div class="menu primary-background-color">
        <app-left-sidebar [user]="user"></app-left-sidebar>
    </div>
    <div class="flat">
        <div class="photos">
            <img *ngFor="let photo of flatDownloadedPhotos"
                 [src]="photo"
                 alt="Photo">
        </div>
        <div class="buttons">
            <button class="button-global-purple" (click)="setMeAsInterested()">
                <h2>I'm interested</h2>
            </button>
            <button class="button-global-white">
                <h2>Mark as full</h2>
            </button>
        </div>
        <div class="flat-metadata">
            <div class="header-one">
                <h1>{{flatName}}</h1>
                <h1>{{flatCost | currency: '$'}}</h1>
            </div>
            <h2 style="margin-bottom: 1rem">Adress: {{flatArea}}</h2>
            <h3>{{flatDescription}}</h3>
            <h3 *ngIf="flatExternalUrl" style="color: violet">
                Description on the
                <a href="{{flatExternalUrl}}">3d-pary site</a>
            </h3>
        </div>
        <div class="comments" id="comments">
            <div class="chat" id="chat">
                <div class="chat-message"
                     *ngFor="let comment of flatComments"
                     [ngClass]="comment?.sender?.id === '1' ? 'chat-message-left' : 'chat-message-right'">
                    <img [src]="comment?.sender?.avatar" alt="">
                    <div>
                        <h4>{{comment.sender.name}}</h4>
                        <h2 style="font-weight: normal">{{comment.content}}</h2>
                    </div>
                </div>
            </div>
        </div>
        <div class="create-message">
            <input class="input-global" type="text" [(ngModel)]="content" (keydown)="onKeyDown($event)">
            <button class="button-global-purple" (click)="onSendClick()"><h3>Send</h3></button>
        </div>
    </div>


    <div class="users-block">
        <div class="users">
            <h1 class="">Interested</h1>
            <div
                class="user"
                *ngFor="let user of flatInterestedUsers"
                (click)="onUserClick(user.id!)">
                <img [src]="user.avatar" alt="Avatar">
                <h2>{{user?.name}}</h2>
            </div>
        </div>
        <div class="owner-block">
            <h1 style="text-align: center">Owner</h1>
            <div class="owner">
                <img
                    [src]="flatOwner?.avatar"
                    alt="Avatar">
                <h2>{{flatOwner?.name}}</h2>
            </div>
        </div>
    </div>
</div>